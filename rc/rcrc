. $HOME/files/rc/func

cdpath=(. ..)

fn cd { d=() ns='[^/]*' sedstr = 's@.*/\('^$ns/$ns/$ns^'\)@\1@' {
    builtin cd $*

    switch ($pwd) {
    case */*/*/*;
        d=${ echo $pwd | sed -e $sedstr }
    case *;
        d=$pwd
    }
    prompt=($d' ; ' '')
}}

cd .

